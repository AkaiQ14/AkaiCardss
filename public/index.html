<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>QG14 Card Clash</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;800;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#4B0E1F;
      --bg2:#12040a;
      --gold:#FFD700;
    }
    body{font-family:"Cairo",system-ui,sans-serif}
    .bg-game{
      background:
        radial-gradient(900px 500px at 15% 10%, rgba(255,215,0,.10), transparent 60%),
        radial-gradient(900px 500px at 85% 0%, rgba(16,185,129,.12), transparent 60%),
        linear-gradient(180deg, var(--bg1), #2a0612 55%, var(--bg2));
      min-height:100vh;
    }
    .glass{
      background: rgba(0,0,0,.35);
      border:1px solid rgba(255,215,0,.28);
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
    }
    .btn{
      border-radius: 18px;
      font-weight: 900;
      transition: transform .08s ease, filter .12s ease;
    }
    .btn:active{transform: translateY(1px)}
    /* Select styling (keeps it premium) */
    select{
      background: rgba(0,0,0,.35);
      border:1px solid rgba(255,215,0,.25);
      backdrop-filter: blur(10px);
    }
    select:focus{
      outline: none;
      box-shadow: 0 0 0 3px rgba(234,179,8,.35);
    }
    select option{
      background:#121212;
      color:#f1f1f1;
    }
  </style>

  <script>
    fetch("/api/check-auth").then((res) => {
      if (!res.ok) {
        window.location.href = "/login";
      }
    });

    if (!localStorage.getItem("homepageRefreshed")) {
      localStorage.setItem("homepageRefreshed", "true");
      window.location.reload();
    }
  </script>
</head>

<body class="bg-game text-white flex items-center justify-center min-h-screen px-4 py-10">
  <div class="w-full max-w-md text-center space-y-6">

    <h1 class="text-4xl md:text-5xl font-black tracking-wide">
      QG14 <span class="text-yellow-300">Card Clash</span>
    </h1>

    <div class="glass rounded-3xl p-5 md:p-6">
      <img
        src="images/qg14-Card-Clash-logo.png"
        alt="QG14 Card Clash Logo"
        style="max-width: 300px; width: 100%;"
        class="mx-auto rounded-2xl object-contain"
      />

      <div class="mt-5 space-y-3 text-right">
        <label for="mode" class="block text-lg font-extrabold pr-1 text-yellow-300">:Ø§Ø®ØªØ± Ù†Ù…Ø· Ø§Ù„Ù„Ø¹Ø¨Ø©</label>

        <div class="relative">
          <select
            id="mode"
            class="w-full p-3 pr-10 rounded-2xl text-white shadow-lg transition-all duration-300 hover:border-yellow-400/70 appearance-none"
          >
            <option value="strategic">âš”ï¸ Ù…Ù† Ø§Ù„Ø£Ù‚ÙˆÙ‰</option>
            <option value="winner">ğŸ§  Ø§Ù„ØªØ­Ø¯ÙŠ</option>
          </select>

          <div class="pointer-events-none absolute inset-y-0 left-3 flex items-center text-white/80">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
          </div>
        </div>

        <a
          href="#"
          onclick="logoutAndStart()"
          class="btn block w-full mt-4 py-3 text-xl text-center text-white rounded-2xl
                 bg-gradient-to-r from-emerald-400 via-sky-500 to-fuchsia-500
                 hover:from-emerald-500 hover:via-indigo-500 hover:to-pink-500
                 shadow-2xl shadow-black/30 ring-1 ring-white/10 hover:scale-[1.02]"
        >
          ğŸš€ Ø¥Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©
        </a>
      </div>
    </div>

    <div class="glass rounded-3xl p-4">
      <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
        <button
          onclick="location.href='/leaderboard.html'"
          class="btn w-full bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 text-black py-3 rounded-2xl text-lg shadow-lg shadow-black/20 hover:scale-[1.02]"
        >Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†</button>

        <button
          onclick="location.href='/leaderboard-admin'"
          class="btn w-full bg-gradient-to-r from-purple-500 to-indigo-700 hover:from-purple-600 hover:to-indigo-800 text-white py-3 rounded-2xl text-lg shadow-lg shadow-black/20 hover:scale-[1.02]"
        >Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ…</button>

        <button
          onclick="location.href='/leaderboard-bottom.html'"
          class="btn w-full bg-gradient-to-r from-cyan-400 to-cyan-600 hover:from-cyan-500 hover:to-cyan-700 text-black py-3 rounded-2xl text-lg shadow-lg shadow-black/20 hover:scale-[1.02]"
        >Ù‚Ø§Ø¹ Ø§Ù„Ù‡Ø§Ù…ÙˆØ±</button>
      </div>
    </div>

  </div>

  <script>
    function logoutAndStart() {
      if (!localStorage.getItem("homepageRefreshed")) return;

      localStorage.removeItem("homepageRefreshed");
      const selectedMode = document.getElementById("mode").value;
      let targetPath = "/";
      switch (selectedMode) {
        case "manual": targetPath = "/host-manual"; break;
        case "strategic": targetPath = "/host-strategic"; break;
        case "winner": targetPath = "/host-winner"; break;
        default: targetPath = "/host-strategic";
      }

      localStorage.setItem("gameMode", selectedMode);

      fetch("/api/exit-home", { method: "POST" })
        .then(() => fetch("/api/logout", { method: "POST" }))
        .then(() => {
          window.location.href = `${targetPath}/start.html`;
        });
    }
  </script>

  <script src="copyright.js"></script>
  <script src="security.js"></script>
</body>
</html>
